plugins { // [2]
    id 'groovy'
}

repositories { mavenCentral() } // [3]

dependencies { // [4]
    compile(
            'org.codehaus.groovy:groovy-all:2.4.8'
    )
	testCompile(
            'junit:junit:4.12',
            'org.codehaus.groovy:groovy-all:2.4.8',
            'org.spockframework:spock-core:1.1-groovy-2.4'
    )
}

task fatjar(type: Jar) {
    manifest {
        attributes 'Main-Class': 'Hello'
    }
    from {
        configurations
                .runtime
                .collect { it.isDirectory() ? it : zipTree(it) }
    }
    with jar
}

